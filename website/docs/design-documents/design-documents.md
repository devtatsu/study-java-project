---
sidebar_label: 設計書
title: 設計時の考え方と作成
---

## REST API

プロジェクトで定めた工程やルールによって、それぞれの設計書（例えば、基本設計や詳細設計 等）へ記載すべき内容は変わりますが、
基本的に、`REST API`の設計を進める中で纏める必要があるポイントは以下のとおりです。

### 入力（INPUT）と出力（OUTPUT）

入力と出力のインターフェースを決定する必要があります。
ポイントは、以下のとおりです。

#### 形式

形式とは、`JSON`や`XML`などを指します。
これは、リクエスト元（クライアント）と形式を合わせる必要があります。

#### 項目

項目は、`項目名（論理名と物理名）`とその項目の型を決めます。
そして、それぞれの項目の単項目チェックと相関チェックの要否を決めます。
チェック結果、入力要件を満たしていない場合の挙動についても纏める必要があります。

上記を決めたら、設計書へは以下のように取りまとめます。

- データ形式：`JSON`
- データ項目

| NO | 項目名(論理) | 項目名(物理) | 型 | 必須要否 | 相関チェック | 文字列長 | 属性チェック | 外字チェック |
| --- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| 1 | 社員ID | employeeId | 文字列 | 要 | なし | 6 | なし | あり |
| 2 | 氏名(姓) | lastname | 文字列 | 否 | 有 | 5 | なし | あり |
| 3 | 氏名(名) | firstname | 文字列 | 否 | 有 | 5 | なし | あり |
| 4 | 部門 | department | 文字列 | 否 | なし | 255 | なし | あり |
| 5 | 入社日 | hireDate | 文字列 | 否 | なし | 10 | 日付 | あり |

<!-- 参考情報 https://it-biz.online/it-skills/check-the-input/ -->



- バリデーションチェック

バリデーションチェックには主に単項目チェックと相関チェックの2種類があります。
それぞれのチェック条件やその条件に該当（つまりエラー）した場合の振る舞いを設計書へまとめます。

- 単項目チェック

単項目チェックとは、単体の項目に対するチェックを指します。
単項目チェックの対象項目やチェックの条件、レスポンス形式や内容をまとめます。

  - 対象項目：社員ID（employeeId）
  - 条件：値が`null`の場合（入力I/Fに項目が存在しないのも含む）
  - HTTPステータス：400(Bad Request)
  - エラーコード："W-0001"
  - メッセージ："{項目名}は必須項目です"
  - レスポンスbody（JSON形式）
  ```json 
	{
		code:"W-0001"
		msg:"氏名(姓)は必須項目です。"
	}
  ```

- 相関チェック

相関チェックとは、複数の項目に入力された値の妥当性のチェックです。
複数の項目の関係性が妥当なものであるかをチェックすることを指します。
相関チェックの対象項目やチェックの条件、レスポンス形式や内容をまとめます。

  - 対象項目：氏名(姓)（lastname）、氏名(名)（firstname）
  - 条件：どちらかの項目または、値が存在する場合、対の項目または、値が存在しない場合
  - HTTPステータス：400(Bad Request)
  - エラーコード："W-0002"
  - メッセージ："{項目名}が存在しません。"
  - レスポンスbody（JSON形式）
  ```json 
	{
		code:"W-0002"
		msg:"氏名(姓)が存在しません。"
	}
  ```








### リソースと操作



## バッチサービス

🚧作成中🚧
